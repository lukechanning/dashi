<%= form_with model: todo, class: "space-y-5" do |f| %>
  <%= render "shared/error_messages", model: todo %>

  <div>
    <%= f.label :title, class: "block text-sm font-medium text-stone-700 mb-1.5" %>
    <%= f.text_field :title, required: true, autofocus: true,
        class: "w-full rounded-xl border border-stone-200 px-3 py-2.5 text-stone-800 focus:outline-none focus:ring-2 focus:ring-violet-500 focus:border-transparent shadow-sm" %>
  </div>

  <div>
    <%= f.label :due_date, "Scheduled for (optional)", class: "block text-sm font-medium text-stone-700 mb-1.5" %>
    <%= f.date_field :due_date,
        class: "rounded-xl border border-stone-200 px-3 py-2.5 text-stone-800 focus:outline-none focus:ring-2 focus:ring-violet-500 focus:border-transparent shadow-sm" %>
  </div>

  <div>
    <%= f.label :project_id, "Project (optional)", class: "block text-sm font-medium text-stone-700 mb-1.5" %>
    <%= f.collection_select :project_id, current_user.projects.active.ordered, :id, :title,
        { include_blank: "None (standalone todo)" },
        class: "rounded-xl border border-stone-200 px-3 py-2.5 text-stone-800 focus:outline-none focus:ring-2 focus:ring-violet-500 focus:border-transparent shadow-sm" %>
  </div>

  <div class="flex items-center gap-3 pt-1">
    <%= f.submit class: "bg-violet-600 text-white rounded-xl px-5 py-2.5 text-sm font-medium hover:bg-violet-700 transition-colors cursor-pointer shadow-sm" %>
    <%= link_to "Cancel", :back, class: "text-sm text-stone-500 hover:text-stone-700 transition-colors" %>
  </div>
<% end %>
